# 会話からルールを学習

現在のセッションの会話履歴を分析し、CLAUDE.mdに追加すべきルールやパターンを抽出してください。

## 分析対象

1. **繰り返し指摘された修正パターン**
   - ユーザーが何度も同じ種類の修正を依頼した箇所
   - 「いつもこうして」「毎回これを忘れないで」などの指示

2. **明示的なルール・好み**
   - 「今後は〜してほしい」「〜は避けて」などの直接的な指示
   - コーディングスタイルや命名規則の好み

3. **暗黙の期待**
   - ユーザーが当然と思っているが明文化されていない慣習
   - 修正後に「そうそう、いつもこうして」と言われたパターン

## 実行手順

1. **会話履歴の分析**
   - 現在のセッション内の会話を振り返る
   - 上記の分析対象に該当するパターンを特定

2. **ルール候補の提示**
   - 抽出したルールを箇条書きで提示
   - 各ルールの根拠（どの会話から抽出したか）を簡潔に説明

3. **ユーザー確認**
   - 追加するルールをユーザーに確認
   - 不要なルールの除外、表現の調整を受け付ける

4. **CLAUDE.mdへの追記**
   - 承認されたルールをCLAUDE.mdの適切なセクションに追加
   - 既存のルールと重複・矛盾がないか確認

## 出力フォーマット

```md
## 抽出したルール候補

### 1. [ルール名]
- **内容**: 〜
- **根拠**: 会話の〇〇で「〜」という指示があった
- **追加先セクション**: CLAUDE.mdの〇〇セクション

### 2. [ルール名]
...
```

## 注意事項

- 一時的な指示（今回だけの特例）は除外する
- 既にCLAUDE.mdに存在するルールと重複しないよう確認
- プロジェクト固有のルールは、プロジェクトのCLAUDE.mdへの追加を提案
